import{r as c,S as y,j as e,L as b}from"./index-24f_J-Oz.js";import{T as g}from"./Title-CsCXNHbM.js";const v=()=>{const{cartItems:n,products:l,currency:i,updateCartItem:x,removeFromCart:o,navigate:m}=c.useContext(y),[r,p]=c.useState([]);c.useEffect(()=>{const s=n.map(t=>{const a=l.find(j=>j._id===t._id);return a?{...a,...t}:null}).filter(Boolean);p(s)},[n,l]);const d=(s,t,a)=>{a<1||x(s,t,a)},h=(s,t)=>{o(s,t)},u=()=>r.reduce((s,t)=>s+t.price*t.quantity,0);return r.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h1",{className:"text-2xl font-medium",children:"Your Cart is Empty"}),e.jsxs("p",{className:"text-gray-500 mt-4",children:[e.jsx(b,{to:"/",className:"text-blue-500 underline",children:"Browse Products"})," ","to add items to your cart."]})]}):e.jsxs("div",{className:"cart-page p-5",children:[e.jsx("h1",{className:"text-2xl font-medium mb-5",children:"Shopping Cart"}),e.jsx(g,{text1:"YOUR",text2:"CART"}),e.jsx("div",{className:"cart-items mb-10",children:r.map(s=>{var t;return e.jsxs("div",{className:"flex items-center justify-between border-b py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:(t=s.image)==null?void 0:t[0],alt:s.name,className:"w-20 h-20 object-cover"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[i,s.price]}),e.jsx("p",{className:"px-2 sm:px-3 sm:py-1 border bg-slate-50",children:s.size||"Not Specified"}),e.jsxs("p",{className:"px-2 sm:px-3 sm:py-1 border bg-slate-50",children:["Quantity: ",s.quantity]})]}),e.jsx("button",{onClick:()=>h(s._id,s.size),className:"text-red-500 text-sm hover:underline",children:"Remove"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(s._id,s.size,s.quantity-1),className:"bg-gray-200 px-3 py-1 hover:bg-gray-300",children:"-"}),e.jsx("span",{children:s.quantity}),e.jsx("button",{onClick:()=>d(s._id,s.size,s.quantity+1),className:"bg-gray-200 px-3 py-1 hover:bg-gray-300",children:"+"})]})]},`${s._id}-${s.size||"no-size"}`)})}),e.jsxs("div",{className:"cart-summary p-5 border-t",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Order Summary"}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:[i,u().toFixed(2)]})]}),e.jsxs("p",{className:"flex justify-between mt-2 text-sm text-gray-500",children:[e.jsx("span",{children:"Tax"}),e.jsx("span",{children:"Included"})]}),e.jsx("button",{onClick:()=>m("/place-order"),className:"mt-5 w-full bg-black text-white py-3 hover:bg-gray-800 transition",children:"Proceed to Checkout"})]})]})};export{v as default};
