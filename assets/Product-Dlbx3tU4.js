import{r,S as f,j as e,a as x,u as w}from"./index-24f_J-Oz.js";import{T as S}from"./Title-CsCXNHbM.js";import{P as C}from"./ProductItem-C24kM_1M.js";const P=({category:c,subCategory:i})=>{const{products:o=[]}=r.useContext(f),[n,s]=r.useState([]);return r.useEffect(()=>{if(o.length>0){let a=[...o];c&&(a=a.filter(d=>d.category===c)),i&&(a=a.filter(d=>d.subCategory===i)),s(a.slice(0,5))}},[o,c,i]),e.jsxs("div",{className:"my-24",children:[e.jsx("div",{className:"text-center text-3xl py-2",children:e.jsx(S,{text1:"RELATED",text2:"PRODUCTS"})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6",children:n.map(a=>e.jsx(C,{id:a._id,name:a.name,image:a.image||x.default_image,price:a.price},a._id))})]})},_=()=>{var g,u;const{productId:c}=w(),{products:i,currency:o,addToCart:n}=r.useContext(f),[s,a]=r.useState(null),[d,m]=r.useState(""),[p,h]=r.useState(""),[j,y]=r.useState(!1);if(r.useEffect(()=>{var t;if(console.log(c),c){const l=i.find(b=>b._id===c);l&&(a(l),m(((t=l.image)==null?void 0:t[0])||""),console.log("Found item:",l))}},[c,i]),!s)return e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Product not found."})});const N=t=>{h(t),y(!0)},v=()=>{if(!j){alert("Please select a size before adding to cart");return}n(s,p)};return e.jsxs("div",{className:"border-t-2 pt-10 transition-opacity ease-in duration-500 opacity-100",children:[e.jsxs("div",{className:"flex gap-12 sm:gap-12 flex-col sm:flex-row",children:[e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"flex sm:flex-col overflow-x-auto sm:overflow-y-scroll sm:w-[18.7%] w-full",children:(g=s.image)==null?void 0:g.map((t,l)=>e.jsx("img",{onClick:()=>m(t),src:t,className:"w-[24%] sm:w-full sm:mb-3 flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",alt:s.name},l))}),e.jsx("div",{className:"w-full sm:w-[80%]",children:e.jsx("img",{className:"w-full h-auto",src:d||((u=s.images)==null?void 0:u[0]),alt:s.name})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"font-medium text-2xl mt-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[[...Array(5)].map((t,l)=>e.jsx("img",{src:l<s.rating?x.star_icon:x.star_dull_icon,alt:"Rating",className:"w-3.5"},l)),e.jsxs("p",{className:"pl-2",children:["(",s.reviews||0,")"]})]}),e.jsxs("p",{className:"mt-5 text-3xl font-medium",children:[o,s.price]}),e.jsx("p",{className:"mt-5 text-gray-500 md:w-4/5",children:s.description}),e.jsxs("div",{className:"flex flex-col gap-4 my-8",children:[e.jsx("p",{children:"Select Size"}),e.jsx("div",{className:"flex gap-2",children:["S","M","L","XL","XXL"].map(t=>e.jsx("button",{onClick:()=>N(t),className:`border py-2 px-4 ${p===t?"bg-gray-300":"bg-gray-100"} hover:bg-gray-200 transition`,children:t},t))})]}),e.jsx("button",{onClick:v,className:"bg-black text-white px-8 py-3 text-sm active:bg-gray-700 hover:bg-gray-800 transition",children:"ADD TO CART"}),e.jsx("hr",{className:"mt-8 sm:w-4/5"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-5 flex flex-col gap-1",children:[e.jsx("p",{children:"100% Original product."}),e.jsx("p",{children:"Cash on delivery is available on this product."}),e.jsx("p",{children:"Easy return and exchange policy within 7 days."})]})]})]}),e.jsxs("div",{className:"mt-20",children:[e.jsxs("div",{className:"flex",children:[e.jsx("b",{className:"border px-5 py-3 text-sm",children:"Description"}),e.jsxs("p",{className:"border px-5 py-3 text-sm",children:["Reviews (",s.reviews||0,")"]})]}),e.jsx("div",{className:"flex flex-col gap-4 border px-6 py-6 text-sm text-gray-500",children:e.jsx("p",{children:s.longDescription||"No additional description available."})})]}),e.jsx(P,{category:s.category,subCategory:s.subCategory})]})};export{_ as default};
